{"version":3,"file":"ts_app.js","sourceRoot":"","sources":["../../src/examples/ts_app.ts"],"names":[],"mappings":";AAAA;;;GAGG;;AAEH,uDAAmD;AACnD,+DAKwC;AAExC,MAAM,GAAG,GAAG,IAAI,IAAI,EAAE,CAAC;AACvB,MAAM,KAAK,GAAkB;IAC3B,IAAI,EAAE,oBAAoB;IAC1B,EAAE,EAAE,UAAU;IACd,EAAE,EAAE,sCAAsC;IAC1C,OAAO,EAAE;QACL,OAAO,EAAE;YACL,cAAc,EAAE,6DAA6D;YAC7E,IAAI,EAAE,0BAA0B;YAChC,eAAe,EAAE,oBAAoB;YACrC,oBAAoB,EAAE,UAAU;YAChC,QAAQ,EAAE,GAAG;YACb,QAAQ,EAAE,KAAK;SAClB;QACD,OAAO,EAAE,iRAAiR;QAC1R,IAAI,EAAG;YACL,IAAI,EAAE,UAAU;YAChB,OAAO,EAAE,KAAK;YACd,KAAK,EAAE,GAAG;YACV,KAAK,EAAE,IAAI;YACX,IAAI,EAAE,IAAI;YACV,MAAM,EAAE,SAAS;YACjB,MAAM,EAAE,CAAE,OAAO,EAAE,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,IAAI,EAAE,SAAS,CAAC;YACpD,KAAK,EAAC;gBACF,IAAI,EAAE,UAAU;gBAChB,OAAO,EAAE,KAAK;gBACd,KAAK,EAAC,GAAG;gBACT,KAAK,EAAE,IAAI;gBACX,IAAI,EAAE,IAAI;gBACV,MAAM,EAAE,SAAS;gBACjB,MAAM,EAAE,CAAE,OAAO,EAAE,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,IAAI,EAAE,SAAS,CAAC;aACvD;SACJ;KACF;IACD,IAAI,EAAE,kBAAkB;IACxB,QAAQ,EAAE;QACN,KAAK,EAAE,4BAAa,CAAC,GAAG,CACpB,sCAAsC,EACtC,6BAAc,CAAC,KAAK,EACpB,0BAA0B,EAC1B;YACI,MAAM,EAAE,8BAAe,CAAC,OAAO;YAC/B,IAAI,EAAE,CAAC;YACP,WAAW,EAAE,mBAAmB;SACnC,EACD,sCAAsC,CACrC;QAEL,KAAK,EAAE;YACH,OAAO,EAAE,gCAAgC;YACzC,OAAO,EAAE,sCAAsC;YAC/C,YAAY,EAAE,sCAAsC;YACpD,MAAM,EAAE,sCAAsC;SACjD;KACJ;CACF,CAAA;AAED,MAAM,MAAM,GAAG,IAAI,yBAAW,EAAE,CAAA;AAChC,OAAO,CAAC,GAAG,CAAC,oBAAoB,EAAE,IAAI,CAAC,SAAS,CAAC,KAAK,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC,CAAA;AACjE,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC;KACd,IAAI,CAAC,MAAM,CAAC,EAAE;IACb,OAAO,CAAC,GAAG,CAAC,qBAAqB,EAAE,IAAI,CAAC,SAAS,CAAC,MAAM,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC,CAAA;AACrE,CAAC,CAAC,CAAA","sourcesContent":["/**\n * Example showing how to use EventLogger from TypeScript\n *\n */\n\nimport { EventLogger } from \"../../src/eventLogger\"\nimport { EventMessage,\n    EventMetadata,\n    LogEventTypeAction,\n    LogEventAction,\n    EventStatusType,\n   } from \"../../src/model/EventMessage\"\n\nconst now = new Date();\nconst event : EventMessage = {\n  from: \"noresponsepayeefsp\",\n  to: \"payerfsp\",\n  id: \"aa398930-f210-4dcd-8af0-7c769cea1660\",\n  content: {\n      headers: {\n          \"content-type\": \"application/vnd.interoperability.transfers+json;version=1.0\",\n          date: \"2019-05-28T16:34:41.000Z\",\n          \"fspiop-source\": \"noresponsepayeefsp\",\n          \"fspiop-destination\": \"payerfsp\",\n          priority: 100,\n          blocking: false\n      },\n      payload: \"data:application/vnd.interoperability.transfers+json;version=1.0;base64,ewogICJmdWxmaWxtZW50IjogIlVObEo5OGhaVFlfZHN3MGNBcXc0aV9VTjN2NHV0dDdDWkZCNHlmTGJWRkEiLAogICJjb21wbGV0ZWRUaW1lc3RhbXAiOiAiMjAxOS0wNS0yOVQyMzoxODozMi44NTZaIiwKICAidHJhbnNmZXJTdGF0ZSI6ICJDT01NSVRURUQiCn0\",\n      data : {\n        str1: 'Hi world',\n        number1: 12345,\n        date1: now,\n        bool1: true,\n        nil1: null,\n        undef1: undefined,\n        array1: [ \"Hello\", 1234, now, true, null, undefined],\n        child:{\n            str2: 'Hi world',\n            number2: 12345,\n            date2:now,\n            bool2: true,\n            nil2: null,\n            undef2: undefined,\n            array2: [ \"Hello\", 1234, now, true, null, undefined],    \n        }\n    }\n  },\n  type: \"application/json\",\n  metadata: {\n      event: EventMetadata.log(\n          \"3920382d-f78c-4023-adf9-0d7a4a2a3a2f\",\n          LogEventAction.debug,\n          \"2019-05-29T23:18:32.935Z\",\n          {\n              status: EventStatusType.success,\n              code: 0,\n              description: \"action successful\"\n          },\n          \"1a396c07-47ab-4d68-a7a0-7a1ea36f0012\"\n          )\n      ,\n      trace: {\n          service: \"central-ledger-prepare-handler\",\n          traceId: \"bbd7b2c7-3978-408e-ae2e-a13012c47739\",\n          parentSpanId: \"4e3ce424-d611-417b-a7b3-44ba9bbc5840\",\n          spanId: \"efeb5c22-689b-4d04-ac5a-2aa9cd0a7e87\"\n      }\n  }\n}\n\nconst logger = new EventLogger()\nconsole.log('app: sending event', JSON.stringify(event, null, 2))\nlogger.log(event)\n  .then(result => {\n    console.log('app: received back:', JSON.stringify(result, null, 2))\n  })\n"]}